{% extends 'base.html' %}

{% load tz %}

{% block title %}Access Log for {{ file.uploaded_file.name }}{% endblock %}

{% block content %}
  <h2>Access Log for {{ file.uploaded_file.name }}</h2>
  
  <style>
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #f2f2f2;
    }
    tr:hover {
      background-color: #f5f5f5;
    }
  </style>

  {% if access_logs %}
    <table>
      <thead>
        <tr>
          <th>Timestamp</th>
          <th>Action</th>
          <th>User</th>
        </tr>
      </thead>
      <tbody>
        {% for log in access_logs %}
          <tr>
            <td>{{ log.timestamp|date:"F j, Y, g:i a" }}</td>
            <td>{{ log.action }}</td>
            <td>{{ log.user }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No access logs available.</p>
  {% endif %}
  
  <a href="{% url 'file-list' %}">Back to File List</a>
{% endblock %}